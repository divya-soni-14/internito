{% extends 'base.html' %}
{% load static %}
{% block content %}

<!-- <link rel="stylesheet" href="{% static 'css/register.css' %}"> -->

<script type="application/x-javascript">
	
  addEventListener("load", function() { 
    setTimeout(hideURLbar, 0); 
  }, false); 
  function hideURLbar(){ 
    window.scrollTo(0,1); 
  } 
</script>

<style>
	body {
		background-color: #E5E5E5;
	}

	* {
		font-family: 'Poppins', sans-serif;
	}

	.view-btn {
		padding: 7px;
		font-weight: 500;
		font-size: 1.1rem;
		color: #76b852;
		background-color: white;
		border-radius: 45px;
		border: 1px solid #76b852;
		width: 100%;
	}

	.view-btn:hover {
		color: white;
		border-radius: 45px;
		border: 1px solid #76b852;
		background-color: #76b852;
		outline: none;
		box-shadow: none;
	}

	.view-btn:focus {
		outline: none;
		box-shadow: none;
	}

	a {
		text-decoration: none;
		color: #76b852;
		font-weight: 500;
	}

	a:hover {
		text-decoration: none;
		color: #76b852;
		font-weight: 600;
	}

	textarea:focus {
		outline: #76b852;
		border-color: #76b852;
	}

	.register-text {
		margin-top: 10px;
		margin-left: 5px
	}

	h2 {
		font-weight: 400;
	}

	.card {
		border-radius: 30px;
	}

	@media only screen and (max-width: 600px) {
		.card {
			margin: 20px !important;
		}
	}


	input {
		border-radius: 30px !important;
	}
</style>
<!-- //Custom Theme files -->
<link href="//fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i" rel="stylesheet">
</head>

<div class="card mt-5" style="max-width: 35rem; margin: 20px auto;">
	<div class="card-body justify-content-center">
		<h2 class="card-title text-center mb-4 mt-2">Create Your Account!</h2>
		<form action="" method="POST">
			{% csrf_token %}
			<div class="form-group">
				<label for="first_name">First Name</label>
				<input type="text first_name" type="text" name="first_name" placeholder="First Name" required=""
					class="form-control">
			</div>
			<div class="form-group">
				<label for="last_name">Last Name</label>
				<input type="text last_name" type="text" name="last_name" placeholder="Last Name" required=""
					class="form-control">
			</div>
			<div class="form-group">
				<label for="email">Email Address</label>
				<input type="email" name="email" placeholder="Email Address" required="" class="form-control" id="id_email">
				<small class="text-danger">**Please use institute email ID</small>
			</div>
			<div class="form-group">
				<label for="username">Username</label>
				<input type="text username" name="username" required="" class="form-control" id="id_username">
				<small class="text-danger">**Your user name is auto generated. Don't edit it</small>
			</div>
			<div class="form-group">
				<label for="password">Password</label>
				<input type="password" name="password1" placeholder="Create a password" required="" class="form-control">
			</div>
			<div class="form-group">
				<label for="password">Confirm Password</label>
				<input type="password" name="password2" placeholder="Re-enter Password" required="" class="form-control">
			</div>
			<input class="btn submit view-btn mt-3" type="Submit" value="SignUp">
			<p class="card-text register-text mb-2">Already have an account? <a href="{% url 'login' %}"> Login Now!</a>
			</p>
			
		</form>
	</div>
</div>



	
	
		
	
<script>
	
	{% if alert %}
		var message = "{% for field in form %}{% if field.errors %}	{% for error in field.errors %}{{error}}\n{% endfor %}{% endif %}{% endfor %}".trim()
		alert(message);
	{% endif %}

	var email_field = document.getElementById('id_email');
	email_field.addEventListener("keyup", ()=>{
		var str = email_field.value;
		document.getElementById('id_username').value = str.split('@')[0];
	});

	document.getElementById('id_username').addEventListener('keyup', ()=>{
		var str = email_field.value;
		document.getElementById('id_username').value = str.split('@')[0];
		alert("Please Do not edit username! It is auto generated")
	})

</script>

{% endblock content %}